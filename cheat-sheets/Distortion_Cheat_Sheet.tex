%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Distortion Cheat Sheet
%
% Created by Stephen J Mildenhall
% (c) 2023
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{cheat_sheet_macros.tex}
\title{Distortion Cheat Sheet}

% color scheme defeined here - just change the suffixes
\colorlet{highlightcolor}{highlightcolord}
\colorlet{washedcolor}{washedcolord}
\colorlet{textcolor}{textd}


\begin{document}

{\huge{\textbf{\texttt{Distortion} Class Cheat Sheet}}}

\raggedright

\texttt{\m Distortion(name, shape, r0=0.0, df=None, col\_x='', col\_y='', display\_name='')}

The following tables show all \texttt{\m methods}, and fields or properties (used interchangeably). Comments elucidate the meaning of more obscure entries.


\begin{multicols*}{3}


%------------1. SPECIFICATION & CREATION ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright
% {\it italics stuff} \\

\texttt{name} {it name} \\
\texttt{shape} {it name} \\
\texttt{r0} {it name} \\
\texttt{df} {it name} \\
\texttt{col\_x} {it name} \\
\texttt{col\_y} {it name} \\
\texttt{display\_name} {it name} \\

{\it Create using DecL}

\texttt{distortion <NAME> <DIST\_NAME> <SHAPE>} \\
\texttt{DIST\_NAME=ccoc|ph|wang|dual|tvar}

\texttt{\m average\_distortion},
\texttt{col\_x},
\texttt{col\_y},
\texttt{df},
\texttt{display\_name},
\texttt{\m distortions\_from\_params},
\texttt{has\_mass},
\texttt{mass},
\texttt{name},
\texttt{premium\_target},
\texttt{r0},
\texttt{\m s\_gs\_distortion},
\texttt{shape},



    \end{minipage}
};
\node[fancytitle] at (box.north west) {1. Specification \& creation};
\end{tikzpicture}


%------------2. UPDATE ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright
    
\texttt{\m bagged\_distortion},
\texttt{error},


    \end{minipage}
};
\node[fancytitle] at (box.north west) {2. Update};
\end{tikzpicture}


%------------ 3. MOMENTS ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

{\it None }

    \end{minipage}
};
\node[fancytitle] at (box.north west) {3. Moments};
\end{tikzpicture}


%------------ 4. STATISTICAL FUNCTIONS ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

\texttt{\m g},
\texttt{\m g\_dual},
\texttt{\m g\_inv},
\texttt{\m g\_prime},
\texttt{\m wtd\_tvar},



    \end{minipage}
};
\node[fancytitle] at (box.north west) {4. Statistical functions};
\end{tikzpicture}


\columnbreak


%------------ 5. VALIDATION ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

\texttt{\m test},


    \end{minipage}
};
\node[fancytitle] at (box.north west) {5. Validation};
\end{tikzpicture}


%------------ 6. OUTPUT ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

{\it None }


    \end{minipage}
};
\node[fancytitle] at (box.north west) {6. Output dataframes};
\end{tikzpicture}


%------------ 7. REINSURANCE ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

{\it None }

    \end{minipage}
};
\node[fancytitle] at (box.north west) {7. Reinsurance};
\end{tikzpicture}



\columnbreak


%------------ 8. VISUALIZTION ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

\texttt{\m plot},

    \end{minipage}
};
\node[fancytitle] at (box.north west) {8. Visualization};
\end{tikzpicture}


%------------ 9. RISK ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright
    
\texttt{\m price},
\texttt{\m price2},


    \end{minipage}
};
\node[fancytitle] at (box.north west) {9. Risk and pricing};
\end{tikzpicture}


%------------  10. APPROXIMATIONS ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright

{\it None }

    \end{minipage}
};
\node[fancytitle] at (box.north west) {10. Approximations};
\end{tikzpicture}


%------------ 11. META ---------------
\begin{tikzpicture}
\node [mybox] (box){%
    \begin{minipage}{0.3\textwidth}\raggedright
    
\texttt{\m available\_distortions},
\texttt{\m convex\_example},
\texttt{renamer},

        
    \end{minipage}
};
\node[fancytitle] at (box.north west) {11. Meta};
\end{tikzpicture}

\bigskip \raggedright
{\bf Notes:} 

[0]: Arguments \texttt{sev\_pick\_attachments=None, sev\_pick\_losses=None, } omitted; see help. 

[1]: matches \texttt{Portfolio} 

Any vectorizable input accepts numeric or iterable datatypes.  

Abbreviations: gcn=gross (subject), ceded, and net; stats: m=mean, cv=coefficient of variation, sd=standard deviation, var=variance, skew(ness); VaR=value-at-risk


% \vskip .25truein
% FOOTER
\makefooter



\end{multicols*}

\end{document}
